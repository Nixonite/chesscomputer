<html>
	<head>
		<title>chessviz</title>
				<script src="jquery-1.9.1.min.js"></script>
				<script src="p5.min.js"></script>
				<script src="jquery-ui.custom.min.js"></script>
				
				<script src="index.js"></script>
				<script src="control.js"></script>
				<script>
				p = []
				lastMouse = false;
				function setup(){
					canvas = createCanvas($("#board").css('width'), $("#board").css('height'));
					canvas.position($("#board").position().left,$("#board").position().top);
					resetDrawing();
				}

				function draw(){
					if ($("canvas").is(":visible")) {
						if(mouseIsPressed()){
							p[p.length-1].push({x: mouseX, y: mouseY});
							lastMouse = true;
						} else {
							if(lastMouse){
								p.push([]);
							}
						}
					}

					stroke(255);
					strokeWeight(2);

					for(var i = 0; i < p.length; i++){
						beginShape();
						for(var j = 0; j < p[i].length; j++){
							vertex(p[i][j].x, p[i][j].y);
						}
						endShape();
					}
				}

				function resetDrawing(){
					p = [];
					p.push([]);
					c = $("canvas")[0]
					c.width = c.width;
					background(0,125);
				}

				function keyPressed(){
					if(key == 'R'){
						resetDrawing();
					}
					if(key == 'H'){
						$("canvas").hide();
					}
				}

				</script>
				<link type="text/css" href="index.css" rel="stylesheet" />
				<style>
				#onOff p{
					margin: 0;
				}
				#onOff h4{
					margin-bottom:0;
				}

				.blackControl{
					background: blue;
				}
				.whiteControl{
					background:yellow;
				}
				.whiteControl.blackControl{
					backround:green;
				}
				</style>
	</head>
	<body>
	
		<text id="turnDisplay"><span id="turn">WHITE</span>'s turn</text><br>
		Current Move: <text id="currMove"></text><br><br>
		
	<table>
	<tr><td>
		<div id="board">
			<table id="cells">
			</table>

		</div>
		
	</td><td>
			
		<form id="showControl">
			<h4>Show controlled squares</h4>
			<input type="checkbox" value="black">black</input>
			<input type="checkbox" value="white">white</input>

		</form>
		<form id="onOff">
			<div id="whiteOnOff">
			<h4>White</h4>
			</div>
			<div id="blackOnOff">
				<h4>Black</h4>
			</div>

<!-- 			<input type="submit" value="update" /> -->
		</form>
		
		<div id="viewMoves"><b>View moves</b><br>
		<textarea id="g"></textarea>
		<br><button id="start">start</button><button id="prev">prev</button><button id="next">next</button></div>
		
	</td><td id="moves">
		
		<table id="moveDisplay"><b>Moves</b></table>
		
	</td></tr></table>
	
	
		<!--
		
		 
		 
		<p><label>FEN input</label></p>
		<textarea id="f"></textarea>
		<p><button id="display">display</button></p> -->



		<!-- <form id="highlight">
			<p>
			<select id="colSelect"></select>
			<select id="rowSelect"></select>
			<input type="submit" value="highlight">
			<a href="#" style="display:none" id="clear-highlight">[x]</a>
			</p>
		</form>

		<p id="log"></p>
	-->
	</body>
</html>
